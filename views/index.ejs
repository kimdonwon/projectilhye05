<!DOCTYPE html>
<html>
<head>
  <title>test</title>
<script src="http://maps.googleapis.com/maps/api/js">
</script>

<script>
var myCenter=new google.maps.LatLng(37.30075, 127.04005);
var myCenter2=new google.maps.LatLng(37.30090, 127.04020);
var myCenter3=new google.maps.LatLng(37.30070, 127.04020);
var myCenter4=new google.maps.LatLng(37.30090, 127.04000);
function myColor(ave) {

if ((ave >= 0) && (ave <= 30)) {
return "#0054FF";
}
else if ((ave > 30) && (ave <= 80)) {
return "#1DDB16";
}
else if ((ave > 80) && (ave <= 150)) {
return"#FFBB00";
}
else {
return "#FF0000";
}
}

function initialize() {
var mapProp = {
center:myCenter,
zoom:17,
mapTypeId:google.maps.MapTypeId.ROADMAP
};

var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

var realtime = JSON.parse('<%- JSON.stringify(realtime) %>');


var myColor1 = myColor(realtime[0]);

var circle=new google.maps.Circle({
center:myCenter,
radius:5,
strokeColor:myColor1,
strokeOpacity:1,
strokeWeight:1,
fillColor:myColor1,
fillOpacity:1
});

var myColor2 = myColor(realtime[1]);
var circle2=new google.maps.Circle({
center:myCenter2,
radius:5,
strokeColor:myColor2,
strokeOpacity:1,
strokeWeight:1,
fillColor:myColor2,
fillOpacity:1
});

var myColor3 = myColor(realtime[2]);
var circle3=new google.maps.Circle({
center:myCenter3,
radius:5,
strokeColor:myColor3,
strokeOpacity:1,
strokeWeight:1,
fillColor:myColor3,
fillOpacity:1
});

var myColor4 = myColor(realtime[3]);
var circle4=new google.maps.Circle({
center:myCenter4,
radius:5,
strokeColor:myColor4,
strokeOpacity:1,
strokeWeight:1,
fillColor:myColor4,
fillOpacity:1
});



circle.setMap(map);circle2.setMap(map);circle3.setMap(map);circle4.setMap(map);

google.maps.event.addListener(circle,'click',function() {
map.setZoom(20);
map.setCenter(myCenter);
});
google.maps.event.addListener(circle2,'click',function() {
map.setZoom(20);
map.setCenter(myCenter2);
});
google.maps.event.addListener(circle3,'click',function() {
map.setZoom(20);
map.setCenter(myCenter3);
});
google.maps.event.addListener(circle4,'click',function() {
map.setZoom(20);
map.setCenter(myCenter4);
});

}

google.maps.event.addDomListener(window, 'load', initialize);






</script>
</head>

<body>

<div id="googleMap" style="width:800px;height:600px;">
</div>
<div id="ts"><a href="/avg">평균 값 확인 </a></div>

</body>
</html>
